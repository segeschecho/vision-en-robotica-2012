%\documentclass[draft]{beamer} % para compilar mas rapido cuando se esta haciendo la transparencia
\documentclass[svgnames]{beamer}
\usefonttheme{professionalfonts}% font de LaTeX
\usetheme{Warsaw}
%\usecolortheme{seahorse}
%\usecolortheme{rose}
%\usefonttheme[onlylarge]{structuresmallcapsserif}
%\usefonttheme[onlysmall]{structurebold}
\setbeamertemplate{headline}{} %elimina la subsecciones de las transparencias

% Tema escogido en este ejemplo
\setbeamercovered{transparent}
%%%% packages y comandos personales %%%%
\usepackage[spanish]{babel}
\usepackage[utf8]{inputenc}
\usepackage{latexsym}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{fancyvrb} %para decorar codigo verbatim
\usepackage{multimedia}
\usepackage{times}
\usepackage{color}
\usepackage{transparent}
\usepackage[ruled,vlined]{algorithm2e} % para escribir algotirmos
\usepackage{float} % para escribir algotirmos
\usepackage[noend]{algpseudocode} % para escribir algotirmos
\usepackage{colortbl} %para colorear celdas de una tabla
\usepackage{multirow} % para que una celda ocupe varias columnas
\usepackage{comment} % para comentar una gran cantidad de codigo latex


%\graphicspath{{./images/}} % es necesaria esta linea para incorporar los archivos con extension pdf_tex

\graphicspath{{./images_unit6/}} % es necesaria esta linea para incorporar los archivos con extension pdf_tex
\title[Evasi\'on de obst\'aculos basada en visi\'on est\'ereo]{Algoritmo de evasi\'on de obst\'aculos en tiempo real basado en visi\'on est\'ereo}
\author[T. Pire, E. Gonz\'alez, S. Gonz\'alez, R. Benitti]{{Taih\'u Pire\\ Emiliano Gonz\'alez\\ Sergio Gonz\'alez\\ Ra\'ul Benitti} \\ \vspace*{0.5cm} {\small Facultad de Ciencias Exactas y Naturales}\\ {\small Universidad de Buenos Aires}}
\date{}

% {\small Materia: Visi\'on en Rob\'otica} \\ \vspace*{0.5cm} {\small Docentes: Marta Mejail \\ Pablo De Crist\'oforis \\ Mat\'ias Nitsche} \\ \vspace*{0.5cm}

\begin{document}
\frame{\titlepage}

\begin{frame}
\frametitle{\'Indice}
\tableofcontents%[pausesections]
\end{frame}

\section{Introducci\'on}

\begin{frame}
\frametitle{Introducci\'on}
\begin{itemize}
	\item Presentaci\'on de un algoritmo de evasi\'on de obst\'aculos basado \'unicamente en visi\'on est\'ereo para la navegaci\'on aut\'onoma de un robot.

	\item El presente se elabor\'o como proyecto final para la asignatura Visi\'on en Rob\'otica de Licenciatura en Ciencias de la Computaci\'on de la Universidad de Buenos Aires.
\end{itemize}
\end{frame}

\section{Conceptos B\'asicos}

\begin{frame}
\frametitle{Conceptos b\'asicos}
\begin{block}{Definici\'on: Robot}
Un robot es	una maquina que mide (sensa) un entorno, realiza un procesamiento interno con la informaci\'on adquirida y act\'ua en base a este.	
\end{block}

\begin{center}
\includegraphics<1>[width=7cm]{./images/sens_and_action.pdf}
\end{center}

\end{frame}

\section{Algoritmo de evasi\'on de Obst\'aculos}

\begin{frame}
\frametitle{Algoritmo de evasi\'on de obst\'aculos}

El algoritmo puede ser segmentado en los siguientes pasos:

\begin{enumerate}
	\item Calibraci\'on de ambas c\'amaras.
	\item Rectificaci\'on y alineaci\'on de las imagenes adquiridas.
	\item C\'alculo de mapas de disparidad.
	\item Determinaci\'on de una heur\'istica para la evasi\'on de obst\'aculos.
\end{enumerate}

\end{frame}

\begin{frame}
\frametitle{Calibraci\'on}
Para la obtenci\'on de los par\'amemtros intr\'insecos ({\bf distancia focal, punto principal, skewness, distorsiones}) y extr\'insecos de las c\'amaras ({\bf rotación y traslación de una cámara con respecto a otra}) se utiliz\'o el toolbox de Matlab desarrolado por Jean-Yves Bouguet.

\begin{center}
\includegraphics<1>[width=6cm]{./images/extrinsic.jpg}
\includegraphics<1>[width=6cm]{./images/extrinsic2.jpg}
\end{center}

\end{frame}

\begin{frame}
\frametitle{Rectificaci\'on y alineaci\'on}
Para la etapa de rectificaci\'on y alineaci\'on se hizo uso de la libreria OpenCV (Open Source Computer Vision) que implementa diversas funciones para el desarrollo de software de visi\'on por computadora en tiempo real.
Algunas de las funciones utilizadas son:
\begin{itemize}
	\item {\bf stereoRectify()}: calcula la matriz de rotaci\'on para cada c\'amara que (virtualmente) hace que ambas imagenes de las c\'amaras esten en el mismo plano.
	\item {\bf initUndistortRectifyMap()}: c\'alcula el mapa transformaci\'on de des-distorci\'on y rectificaci\'on para cada c\'amara.
	\item {\bf remap()}: aplica una transformaci\'on geom\'etrica a una imagen.
\end{itemize}
                                                                                                                                                     
\end{frame}

%\section{Visi\'on est\'ereo}

\begin{frame}

\frametitle{Disparidad}
\begin{block}{Definicio\'on: Disparidad}
Dado un objeto en el mundo real visualizado por dos c\'amaras, la disparidad es la diferencia entre la posici\'on del objeto en la imagen izquierda y la posici\'on en la imagen derecha.
\end{block}

\begin{center}
\includegraphics<1>[width=6cm]{./images/disparity.jpg}
\end{center}

\end{frame}

\begin{frame}
\frametitle{Mapas de disparidad}

Para lograr la detecci\'on de obst\'aculos cercanos, el algoritmo utiliza \emph{mapas de disparidad} o \emph{mapas de profundidad}, los cuales resultan de calcular la \emph{disparidad} para cada punto del mundo visto desde ambas c\'amaras.

\medskip
La disparidad de un punto se obtiene calculando la distancia del mismo a su an\'alogo en la otra im\'agen. Como premisa, las im\'agenes deben estar alineadas y rectificadas, de modo que un punto y su correspondiente se encuentren a la misma altura.

\medskip
Para el c\'alculo de mapas de disparidad, se utiliz\'o la librer\'ia {\bf LIBELAS} (Library for Efficient LArge-scale Stereo Matching) desarrollada por Andreas Geiger.

\end{frame}



%\begin{frame}
%\frametitle{}
%
%\begin{center}
%\includegraphics<1>[width=7cm]{./images/epipolar_geometry.pdf}
%\end{center}
%
%\end{frame}

\begin{frame}
\frametitle{Algoritmo de evasi\'on de obst\'aculos}


\end{frame}

\section{Experimentos}

\begin{frame}
\frametitle{Experimentos}
En la etapa experimental se realizaron dos tipos de pr\'acticas:
\begin{itemize}

	\item {\bf Utilizando videos off-line:} Tomados con una c\'amara stereo \emph{Minoru} donde se ver\'ifico el correcto funcionamiento del algoritmo.
	
	\item {\bf Utilizando el robot Exabot:} Montado con una c\'amara stereo \emph{Minoru} en un escenario con diversos objetos y se observ\'o la correcta evasi\'on de los obst\'aculos por parte del robot.
\end{itemize}



\end{frame}


\section{Conclusiones}

\begin{frame}
\frametitle{Conclusiones}


\end{frame}

\section{Bibliograf\'ia}

\begin{frame} 
\frametitle{Referencias} 

\begin{thebibliography}{10} 
\beamertemplatebookbibitems 
\bibitem{K10}
Ioannis Kostavelis and Lazaros Nalpantidis and Antonios Gasteratos
\newblock \emph{Comparative Presentation of Real-Time Obstacle Avoidance Algorithms Using Solely Stereo Vision}
\newblock {IARP/EURON} International Workshop on Robotics for risky interventions and Environmental Surveillance-Maintenance, 1742 

\bibitem{K10}
ToolboxCalib (Utilidad de calibraci\'on de c\'amaras para MatLab)
\newblock \url{www.vision.caltech.edu/bouguetj/calib_doc/}


\bibitem{K10}
Librería LIBELAS
\url{www.cvlibs.net/software/libelas.html}

\end{thebibliography} 

\end{frame} 


%@inproceedings{Kostavelis2010_RISE,
%	Address = {Sheffield, UK},
%	Author = {Ioannis Kostavelis and Lazaros Nalpantidis and Antonios Gasteratos},
%	Booktitle = {{IARP/EURON} International Workshop on Robotics for risky interventions and Environmental Surveillance-Maintenance},
%	Date-Added = {2010-06-12 23:07:24 +0300},
%	Date-Modified = {2010-10-26 00:39:42 +0300},
%	Keywords = {PhD},
%	Month = {January},
%	Title = {Comparative Presentation of Real-Time Obstacle Avoidance Algorithms Using Solely Stereo Vision},
%	Year = {2010}}

\end{document}